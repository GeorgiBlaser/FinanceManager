{% extends 'base.html' %}

{% block title %}Create Post{% endblock %}

{% block content %}
<div class="container">
    <h2>Create a New Post</h2>
    <form method="post" id="postForm" novalidate>
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Publish</button>
    </form>
</div>

<script>
    document.getElementById("postForm").addEventListener("submit", function(event) {
        let form = event.target;
        let isValid = form.checkValidity();
        if (!isValid) {
            event.preventDefault();
            event.stopPropagation();
            alert("Please ensure all fields are correctly filled out!");
        }
        form.classList.add("was-validated");
    });
</script>
{% endblock %}
